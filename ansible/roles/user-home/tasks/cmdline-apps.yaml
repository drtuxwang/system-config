- name: Ensure "{{ home_directory }}/.config/htop" directory exists
  file:
    path: '{{ home_directory }}/.config/htop'
    state: directory
    owner: '{{ user }}'
    group: '{{ group }}'
  tags:
  - user-home
  - htop

- name: Copy file to "{{ home_directory }}/.config/htop/htoprc"
  when: ansible_distribution == 'Debian' and ansible_distribution_major_version | int < 13
  copy:
    src: '{{ config_directory }}/htoprc-deb12'
    dest: '{{ home_directory }}/.config/htop/htoprc'
    owner: '{{ user }}'
    group: '{{ group }}'
    mode: '0600'
  tags:
  - user-home
  - htop

- name: Copy file to "{{ home_directory }}/.config/htop/htoprc"
  when: ansible_distribution != 'Debian' or ansible_distribution_major_version | int >= 13
  copy:
    src: '{{ config_directory }}/htoprc'
    dest: '{{ home_directory }}/.config/htop/htoprc'
    owner: '{{ user }}'
    group: '{{ group }}'
    mode: '0600'
  tags:
  - user-home
  - htop

- name: Copy file to "{{ home_directory }}/.tmux.conf"
  copy:
    src: '{{ config_directory }}/tmux.conf'
    dest: '{{ home_directory }}/.tmux.conf'
    owner: '{{ user }}'
    group: '{{ group }}'
    mode: '0600'
  tags:
  - user-home
  - tmux
